{"version":3,"sources":["components/ImageGalleyItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleyItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","onInputChange","event","setState","target","value","onSubmitForm","preventDefault","query","props","onSubmit","className","styles","searchbar","form","this","type","button","buttonLabel","onChange","input","autoComplete","autoFocus","placeholder","PureComponent","ImageGalleryItem","cardImage","alt","largeImage","onItemClick","image","src","onClick","e","dataset","source","ImageGallery","hits","map","hit","webformatURL","tags","largeImageURL","id","API_KEY","fetchImagesWithQuery","page","axios","get","then","res","data","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOnOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","bigImageUrl","App","searchQuery","error","loading","showModal","bigImgUrl","handleFetchHits","prevState","currentPage","length","notify","catch","finally","onFormSubmit","onCloseModal","onOpenModal","imageUrl","toast","prevProps","color","height","width","timeout","style","marginRight","marginLeft","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.091cd4f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1myF-\",\"image\":\"ImageGalleryItem_image__fE7OT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3ZGRQ\",\"Modal\":\"Modal_Modal__1dRAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2NBwF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2VZIn\"};","import PropTypes from 'prop-types'\r\nimport React, { PureComponent } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends PureComponent {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  onInputChange = (event) => {\r\n    this.setState({ inputValue: event.target.value });\r\n  };\r\n\r\n  onSubmitForm = (event) => {\r\n    event.preventDefault();\r\n    const query = this.state.inputValue;\r\n    this.props.onSubmit(query);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.form} onSubmit={this.onSubmitForm}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.onInputChange}\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ cardImage, alt, largeImage, onItemClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        className={styles.image}\r\n        src={cardImage}\r\n        alt={alt}\r\n        data-source={largeImage}\r\n        onClick={(e) => onItemClick(e.target.dataset.source)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  onItemClick: PropTypes.func.isRequired,\r\n  cardImage: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleyItem\";\r\n\r\nconst ImageGallery = ({ hits, onItemClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map((hit) => (\r\n        <ImageGalleryItem\r\n          key={hit.id}\r\n          cardImage={hit.webformatURL}\r\n          alt={hit.tags}\r\n          largeImage={hit.largeImageURL}\r\n          onItemClick={onItemClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onItemClick: PropTypes.func.isRequired,\r\n  hits: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"18426896-fe41a223570e8075df6a95c49\";\r\n\r\nconst fetchImagesWithQuery = (query, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then((res) => res.data.hits);\r\n};\r\n\r\nexport default fetchImagesWithQuery;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { PureComponent } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends PureComponent {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOnOverlayClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleOnOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.bigImageUrl} alt=\"enlarged image\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  bigImageUrl: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { PureComponent } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport fetchImagesWithQuery from \"../src/services\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"./components/Button\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Modal from \"./components/Modal\";\n\nclass App extends PureComponent {\n  state = {\n    searchQuery: \"\",\n    hits: [],\n    error: null,\n    loading: false,\n    showModal: false,\n    page: 1,\n    bigImgUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.handleFetchHits();\n    }\n  }\n\n  handleFetchHits = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n\n    fetchImagesWithQuery(searchQuery, page)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          page: prevState.page + 1,\n        }));\n        const currentPage = this.state.page;\n\n        if (this.state.hits.length === 0 && currentPage > 1) {\n          this.notify();\n        }\n      })\n\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  onFormSubmit = (query) => {\n    this.setState({\n      hits: [],\n      searchQuery: query,\n      page: 1,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  onOpenModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  onItemClick = (imageUrl) => {\n    this.setState({ bigImgUrl: imageUrl });\n    this.onOpenModal();\n  };\n\n  notify = () => toast(\"Oopsie! No results found. Try another search term!\");\n\n  render() {\n    const { hits, loading, page, bigImgUrl } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onFormSubmit} />\n        {hits.length === 0 && page > 1 && <ToastContainer />}\n        <ImageGallery hits={hits} onItemClick={this.onItemClick} />\n        {!loading && hits.length > 0 && (\n          <Button onClick={this.handleFetchHits} />\n        )}\n        {loading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#995566\"\n            height={100}\n            width={100}\n            timeout={3000}\n            style={{ marginRight: \"auto\", marginLeft: \"auto\" }}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.onCloseModal} bigImageUrl={bigImgUrl} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1k0Sz\",\"form\":\"Searchbar_form__12tD6\",\"button\":\"Searchbar_button__2KULU\",\"buttonLabel\":\"Searchbar_buttonLabel__1Nif7\",\"input\":\"Searchbar_input__1jyR1\"};"],"sourceRoot":""}